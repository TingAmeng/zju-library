<ion-header>

  <ion-navbar>
    <ion-title>图书详情</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div class="color-div"></div>

  <div *ngIf="book" class="book-title">
    <div class="content">
      <h1>
        {{book.title}}<br>
      </h1>
      <span>{{book.author}}&nbsp;&nbsp;&nbsp;{{book.classNumber}}</span>
    </div>
  </div>

  <button class="button-collect" ion-button clear icon-only color="white" (click)="toggleCollect()">
    <ion-icon [name]="isCollected?'md-heart':'md-heart-outline'"></ion-icon>
  </button>

  <ion-card *ngIf="book" class="card-book-detail">
    <ion-card-content>
      系统图书编号 {{book.id}}<br>
      ISBN {{book.ISBN?book.ISBN:'暂无'}}<br>
      作者 {{book.author}}<br>
      编者 {{book.editor}}<br>
      分类号 {{book.classNumber}}<br>
      出版社 {{book.press.name}}({{book.press.location}})<br>
      页数 {{book.pageCount}}<br>
      价格 {{book.price}}<br>
      出版年份 {{book.year}}<br>
      装订类型 {{book.bindingType}}<br>
    </ion-card-content>
  </ion-card>
  <div *ngIf="book && items" class="item-group">
    <span>共{{items.length}}单册/{{borrowedItemsCount}}在借</span>
    <div *ngFor="let item of items" class="item">
      <ion-badge *ngIf="item.requested" color="gray">被预约</ion-badge>
      <ion-badge *ngIf="item.borrowed" color="gray">已借出</ion-badge>
      {{item.callNumber}}<br>
      {{item.subLibrary}}<br>
      <span *ngIf="item.dueDate">预计于{{item.dueDate}}归还</span>
    </div>
  </div>
</ion-content>
